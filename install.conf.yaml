- defaults:
    link:
      create: true
      relink: true

- clean:
    - ~/
    - ~/.local/bin/

- link:
    ~/.config/alacritty/alacritty.toml: term/alacritty.toml
    ~/.config/git/ignore: git/ignore
    ~/.config/tmux/tmux.conf: term/tmux.conf
    ~/.config/nvim/init.vim: vim/init.vim
    ~/.vimrc: vim/vimrc
    $ZSH/custom/bruce.zsh: term/zshrc

- create:
    - ~/.local/bin
    - ~/.vim/pack/minpac/opt

- shell:
    - git submodule update --init --recursive
    - find script -maxdepth 1 -type f -exec install -m 755 {} ~/.local/bin/ \;
    - grep -qi microsoft /proc/version &&
      find script/wsl -maxdepth 1 -type f -exec install -m 755 {} ~/.local/bin/ \; || true
    - DIR=~/.vim/pack/minpac/opt/minpac &&
      [ ! -d $DIR ] && git clone https://github.com/k-takata/minpac.git $DIR || true
